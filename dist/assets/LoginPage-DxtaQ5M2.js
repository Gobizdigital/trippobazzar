import{r as m,j as e,L as p,u as N,a as v,b as y,C,c as E,d as P}from"./index-D_lxvvfu.js";import{I as S,U as M,P as k,G as L}from"./GoogleWrapper-DZVhOU51.js";function A({showPassword:d,togglePasswordVisibility:u,options:c,handleClick:o,details:l,handleChange:r,handleSubmit:i}){return m.useEffect(()=>{},[c,l]),e.jsxs("div",{children:[e.jsxs("form",{onSubmit:i,className:"w-full",children:[e.jsxs("div",{className:"text-base text-[#012831] mb-12 w-full flex justify-between tracking-wider",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"contactMethod",value:"mobilenumber",className:"custom-radio",onClick:()=>o("mobilenumber"),defaultChecked:!0}),e.jsx("label",{children:" Mobile Number"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"contactMethod",value:"Email",onClick:()=>o("Email"),className:"custom-radio"}),e.jsx("label",{children:" Email Id"})]})]}),e.jsxs("div",{className:"w-full ",children:[c==="mobilenumber"?e.jsxs("div",{className:"w-full relative border mb-6 border-[#717A7C] rounded-lg",children:[e.jsx("div",{className:"absolute top-1/2 left-7 -translate-x-1/2 -translate-y-1/2",children:e.jsx(S,{})}),e.jsx("input",{type:"text",name:"MobileNumber",placeholder:"Mobile Number",value:l.MobileNumber,onChange:r,autoComplete:"tel",className:"outline-2 p-3 pl-20 outline-med-green bg-inherit text-lg font-medium w-full text-[#717A7C]"})]}):e.jsxs("div",{className:"w-full border mb-6 relative border-[#717A7C] rounded-lg",children:[e.jsx("div",{className:"absolute top-1/2 left-7 -translate-x-1/2 -translate-y-1/2",children:e.jsx(M,{})}),e.jsx("input",{type:"email",name:"Email",placeholder:"Email",value:l.Email,onChange:r,autoComplete:"email",className:"outline-2 p-3 pl-14 outline-med-green bg-inherit text-lg font-medium w-full text-[#717A7C]"})]}),e.jsxs("div",{className:"border rounded-lg w-full relative mb-5 border-[#717A7C]",children:[e.jsx("div",{className:"absolute top-1/2 left-7 -translate-x-1/2 -translate-y-1/2",children:e.jsx(k,{})}),e.jsx("input",{type:d?"text":"password",name:"Password",placeholder:"Password",value:l.Password,onChange:r,autoComplete:"current-password",className:"py-3 pl-14 pr-16 bg-inherit outline-2 outline-med-green text-lg font-medium w-full text-[#717A7C]"}),e.jsx("button",{type:"button",onClick:u,className:"absolute top-1/2 right-5 -translate-y-1/2 text-[#717A7C]",children:d?"Hide":"Show"})]}),e.jsx("div",{className:"mb-11",children:e.jsx("p",{className:"hover:underline cursor-pointer w-full text-end",children:"Forgot your Password?"})}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full mb-8 text-lg font-medium bg-med-green text-white p-3 rounded-xl",children:"Log in"})})]})]}),e.jsx(L,{}),e.jsx("div",{className:"mb-11",children:e.jsxs("p",{className:"w-full flex gap-2 justify-end",children:["Donâ€™t have an account yet?",e.jsx(p,{to:"/signup",children:e.jsx("span",{className:"text-blue-600 cursor-pointer hover:underline",children:"Sign Up!"})})]})})]})}function U(){const[d,u]=m.useState(!1),{verifyUser:c}=N(),[o,l]=m.useState("mobilenumber"),[r,i]=m.useState(!1),f=v(),[n,b]=m.useState({MobileNumber:"",Email:"",Password:""}),h=()=>{u(s=>!s)},g=s=>{l(s),b(a=>({...a,MobileNumber:s==="mobilenumber"?a.MobileNumber:"",Email:s==="Email"?a.Email:""}))},j=s=>{const{name:a,value:t}=s.target;b(x=>({...x,[a]:t}))},w=async s=>{s.preventDefault(),i(!0);const a=o==="mobilenumber"?{MobileNumber:n.MobileNumber,Password:n.Password}:{Email:n.Email,Password:n.Password};try{const t=await P.post("https://trippo-bazzar-backend.vercel.app/api/users/login",a);i(!1);const x={userId:t.data.data.user._id,email:t.data.data.user.Email,MobileNumber:t.data.data.user.MobileNumber,token:t.data.token};localStorage.setItem("userInfo",JSON.stringify(x)),c(),f("/")}catch(t){i(!1),console.error("Error logging in:",t)}};return e.jsxs("div",{className:"w-full max-w-[1980px] mx-auto h-auto font-poppins flex justify-center bg-login-image relative items-center bg-cover bg-center min-h-screen",children:[e.jsx("div",{className:"absolute top-1/2  left-1/2 right-auto  md:top-0 h-auto md:min-h-screen md:right-0 md:left-auto  -translate-x-1/2 -translate-y-1/2 md:-translate-x-0 w-auto md:-translate-y-0 bg-white opacity-50 md:w-2/3 lg:w-1/2 p-3"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 right-auto md:left-auto -translate-x-1/2 -translate-y-1/2 md:-translate-x-0 w-full h-screen md:-translate-y-0 md:top-0 md:right-0 md:w-2/3 lg:w-1/2 md:h-screen overflow-hidden flex flex-col",children:e.jsxs("div",{className:"backdrop-blur-md flex-grow overflow-y-scroll scrollbar-hide p-3",children:[e.jsx(p,{to:"/",className:" absolute top-10 left-10 cursor-pointer",children:e.jsx(y,{})}),e.jsx("div",{className:"flex w-full mt-36  justify-center items-center",children:e.jsxs("div",{className:"max-w-[400px] md:max-w-sm w-full flex flex-col items-center",children:[e.jsx(C,{className:"mb-3"}),e.jsx("h1",{className:"text-[35px] lsm:text-6xl font-semibold leading-[86px] mb-6",children:"Welcome Back"}),e.jsx(A,{showPassword:d,togglePasswordVisibility:h,options:o,handleClick:g,details:n,handleChange:j,handleSubmit:w,loader:r})]})})]})}),r&&e.jsx("div",{className:"fixed bg-transparent backdrop-blur-sm opacity-100 w-full h-screen top-0 left-0",children:e.jsx(E,{})})]})}export{U as default};
