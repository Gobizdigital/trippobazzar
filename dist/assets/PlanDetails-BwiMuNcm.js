import{m as R,r as b,j as e,H as M,D as B,J as T,K as te,R as O,f as U,u as re,M as le,d as $,c as ne,O as ae}from"./index-D_lxvvfu.js";import{E as oe}from"./index-C-M898d6.js";import{d as ce,e as ie,f as de}from"./index-vuhyeV_l.js";import{B as me}from"./BreadCrumbsLink-C4LKlRIs.js";import{u as xe}from"./useFetch-CzcActS5.js";function pe({data:t}){const{searchData:n,setSearchData:o}=R(),[l,c]=b.useState(!1),[f,j]=b.useState(!1),p=()=>c(!l),A=()=>j(!f),w=(a,d)=>{o(D=>({...D,[a]:d}))},y=parseInt(t==null?void 0:t.description.split(" ")[0],10);if(isNaN(y))return;const C=n.startDate?new Date(n.startDate):new Date,u=new Date(C);return u.setDate(C.getDate()+y),e.jsx("div",{className:"max-w-[1720px] font-poppins w-full em:w-[90%] mx-auto h-auto p-4 py-10 bg-white   relative z-10",children:e.jsxs("div",{className:"flex flex-wrap flex-row items-start md:items-end justify-start sm:justify-center lg:justify-between gap-10 lg:gap-4",children:[e.jsxs("div",{className:"relative w-auto",children:[e.jsx("p",{className:"text-gray-500 md:text-base text-sm font-medium tracking-wider mb-2",children:"From"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"text-med-green mb-1 text-base md:text-xl"}),e.jsx("p",{className:"text-base md:text-lg",children:"New Delhi"})]})]}),e.jsxs("div",{className:"relative w-auto",children:[e.jsx("p",{className:"text-gray-500 text-sm md:text-base font-medium tracking-wider mb-2",children:"Destination"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"text-med-green mb-1 text-base md:text-xl"}),e.jsx("p",{className:"text-base md:text-lg",children:"Leh-Ladakh"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-gray-500 text-sm md:text-base font-medium tracking-wider mb-1",children:"Start Date"}),e.jsx("div",{className:`flex items-center ${l?"gap-0":"gap-3"}`,children:l?e.jsx(B,{selected:new Date(n.startDate),className:"w-36 text-base md:text-lg",onChange:a=>w("startDate",a.toISOString()),dateFormat:"EEE, dd MMM yyyy"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-1 text-base md:text-xl",children:e.jsx(T,{})}),e.jsx("p",{className:"text-base md:text-lg",children:new Intl.DateTimeFormat("en-US",{weekday:"short",day:"2-digit",month:"short",year:"numeric"}).format(new Date(n.startDate||new Date))})]})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-gray-500 text-sm md:text-base font-medium tracking-wider mb-1",children:"End Date"}),e.jsx("div",{className:`flex items-center ${l?"gap-0":"gap-3"}`,children:l?e.jsx(B,{selected:new Date(n.endDate),className:"w-36 text-base md:text-lg outline-1",onChange:a=>w("endDate",a.toISOString()),dateFormat:"EEE, dd MMM yyyy"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-1 text-base md:text-xl",children:e.jsx(T,{})}),e.jsx("p",{className:"text-base md:text-lg",children:new Intl.DateTimeFormat("en-US",{weekday:"short",day:"2-digit",month:"short",year:"numeric"}).format(new Date(n.endDate||new Date(u)))})]})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-gray-500 text-sm md:text-base font-medium tracking-wider mb-1",children:"Guests"}),e.jsx("div",{className:`flex items-center ${f?"gap-0":"gap-3"}`,children:f?e.jsx("input",{type:"number",min:"1",className:"w-20 text-base md:text-lg border rounded px-2",value:n.guests||1,onChange:a=>w("guests",parseInt(a.target.value,10))}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"text-med-green mb-1 text-base md:text-xl"}),e.jsxs("p",{className:"text-base md:text-lg",children:[n.guests||1," guests"]})]})})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("div",{className:"cursor-pointer",onClick:()=>{A(),p()},children:e.jsx(oe,{})})})]})})}const ue=({data:t})=>{var n;return e.jsx("div",{className:"bg-[#f8f8f8] ",children:e.jsxs("section",{className:"w-full md:w-[90%] mx-auto px-4 py-8",children:[e.jsx("div",{className:"text-center",children:e.jsxs("h3",{className:"text-med-green  text-start font-bold text-lg md:text-2xl mt-2",children:["Hereâ€™s Your Itinerary:",e.jsxs("span",{className:"text-black font-bold ml-2 text-lg md:text-2xl mt-2",children:["Trip to ",t==null?void 0:t.title," All Inclusive Deal Seasonal Special Offer"]})," "]})}),e.jsx("p",{className:"text-gray-700 font-semibold text-sm md:text-base text-start mt-4",children:t==null?void 0:t.description}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mt-6 gap-4",children:[e.jsx("div",{className:"w-full md:w-1/2 lg:w-[60%] ",children:e.jsx("img",{src:t==null?void 0:t.MainPhotos[0],alt:"Main Destination photo 1",className:"rounded-lg  object-cover  w-full h-[250px] md:h-[400px]"})}),e.jsx("div",{className:"grid grid-cols-2 gap-4 w-full md:w-1/2 lg:w-5/12",children:(n=t==null?void 0:t.MainPhotos)==null?void 0:n.slice(1).map((o,l)=>e.jsx("img",{src:o,alt:`${l+1} image`,className:"rounded-lg  object-cover w-full h-[120px] md:h-[192px]"},l))})]})]})})};function ge(){return e.jsxs("svg",{width:"37",height:"36",viewBox:"0 0 37 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M4.38425 27.0185C4.40869 26.5656 4.43313 26.1126 4.45675 25.6597C4.47223 25.3738 4.49586 25.0887 4.4983 24.8028C4.50319 24.2579 4.29137 23.8049 3.8873 23.4408C3.39116 22.9936 2.88932 22.5538 2.40052 22.0984C1.71864 21.463 1.24938 20.6908 0.978097 19.7988C0.782575 19.1537 0.711699 18.4947 0.769541 17.8235C0.893371 16.3776 1.51171 15.181 2.59685 14.2214C3.03433 13.8345 3.47018 13.4467 3.90033 13.0517C4.35981 12.6305 4.53578 12.1043 4.49667 11.4844C4.45023 10.7497 4.38017 10.0141 4.39647 9.27691C4.41683 8.36947 4.67264 7.52557 5.137 6.74764C5.69994 5.80273 6.48529 5.09893 7.48245 4.63462C8.21647 4.29331 8.98796 4.12388 9.79856 4.14751C10.4511 4.16624 11.1037 4.20778 11.7546 4.25177C12.4397 4.29739 12.9799 4.0408 13.4222 3.52354C13.8328 3.04212 14.254 2.56885 14.6915 2.11187C15.419 1.35187 16.3094 0.869636 17.3335 0.629335C17.8353 0.511221 18.3453 0.477008 18.8561 0.514479C20.1017 0.605712 21.191 1.07247 22.1115 1.92044C22.4822 2.26175 22.7983 2.65438 23.1372 3.02583C23.3303 3.2368 23.5168 3.4543 23.7107 3.66446C24.1327 4.12225 24.6606 4.29332 25.2733 4.25014C25.7515 4.21593 26.2313 4.19638 26.7104 4.16787C26.9556 4.15321 27.2008 4.14343 27.4468 4.14913C28.1181 4.16543 28.7642 4.30472 29.3784 4.57435C30.7275 5.16573 31.6848 6.14648 32.2379 7.51253C32.5508 8.28557 32.6526 9.09282 32.5939 9.92369C32.5605 10.3961 32.5426 10.8702 32.5157 11.3435C32.5027 11.5716 32.4815 11.7989 32.5239 12.0261C32.6013 12.4407 32.8017 12.7869 33.1145 13.068C33.596 13.5005 34.0815 13.929 34.5581 14.3664C35.2889 15.0368 35.7801 15.8579 36.0514 16.8093C36.2412 17.4748 36.2901 18.1526 36.2143 18.8401C36.1003 19.8738 35.7133 20.7934 35.0648 21.6048C34.7781 21.964 34.4302 22.2597 34.0897 22.5643C33.754 22.8649 33.4143 23.1614 33.0827 23.4677C32.6314 23.8848 32.4587 24.4077 32.5027 25.0146C32.5377 25.4985 32.5573 25.9839 32.585 26.4686C32.598 26.6934 32.6078 26.9183 32.6053 27.1447C32.598 27.7573 32.4823 28.3487 32.2656 28.9205C31.8868 29.92 31.2587 30.7321 30.3951 31.3602C29.7719 31.8139 29.0778 32.1071 28.3242 32.2603C27.8314 32.3605 27.3336 32.3776 26.8326 32.3466C26.2468 32.3108 25.6611 32.2709 25.0753 32.2546C24.5148 32.2391 24.0488 32.4599 23.6757 32.8786C23.2488 33.3575 22.8227 33.8373 22.3893 34.3098C21.8337 34.9166 21.1673 35.3622 20.3958 35.6514C19.9347 35.8249 19.4606 35.9406 18.9693 35.9805C17.665 36.0864 16.4764 35.7614 15.4051 35.0111C14.9905 34.7203 14.641 34.3603 14.3078 33.9815C13.9721 33.5995 13.6332 33.2199 13.2903 32.8443C12.8731 32.3865 12.346 32.2155 11.7367 32.2554C11.2462 32.288 10.7558 32.3092 10.2654 32.3385C10.0487 32.3515 9.83278 32.3597 9.61526 32.358C9.00263 32.3531 8.41199 32.2334 7.83927 32.0208C7.11829 31.7536 6.48936 31.3447 5.94679 30.8014C5.18996 30.043 4.70849 29.1339 4.49015 28.0872C4.41846 27.7353 4.38669 27.3785 4.38425 27.0185Z",fill:"#03B58B"}),e.jsx("path",{d:"M13.082 25.3505C12.4335 25.3147 11.8738 24.9864 11.5651 24.3062C11.2661 23.6472 11.3687 23.0208 11.8062 22.449C11.8567 22.383 11.9186 22.3252 11.9781 22.2657C15.4877 18.7565 18.9982 15.2481 22.5053 11.7364C22.9013 11.3397 23.3664 11.1345 23.9286 11.1581C24.7497 11.1931 25.4699 11.8497 25.5783 12.6651C25.6589 13.2711 25.4756 13.7875 25.0447 14.2193C24.2414 15.0224 23.4381 15.8256 22.6349 16.6288C19.9261 19.3373 17.2173 22.0441 14.5101 24.7542C14.2836 24.9807 14.0335 25.164 13.7256 25.2633C13.5464 25.3212 13.3622 25.3489 13.082 25.3505Z",fill:"#EAE2E3"}),e.jsx("path",{d:"M14.0704 16.4965C12.5885 16.494 11.3983 15.2991 11.4024 13.8173C11.4064 12.3389 12.6007 11.1512 14.0777 11.1553C15.5556 11.1594 16.7466 12.3535 16.7434 13.8295C16.7401 15.3072 15.5458 16.4989 14.0704 16.4965Z",fill:"#D8E3E5",fillOpacity:"0.38"}),e.jsx("path",{d:"M22.9407 25.3671C21.4596 25.3614 20.2694 24.1696 20.2734 22.6953C20.2775 21.2135 21.4678 20.0259 22.9456 20.0283C24.4356 20.0308 25.6234 21.2258 25.6153 22.7132C25.6063 24.1892 24.4144 25.372 22.9407 25.3671Z",fill:"#D8E3E5",fillOpacity:"0.38"})]})}function he({data:t}){const n=t.split(`
`);return!t||n.length===0||n.every(o=>o.trim()==="")?e.jsx("div",{className:"w-full md:w-[90%] mx-auto h-auto p-4",children:e.jsx("p",{className:"text-gray-500",children:"No policies available."})}):e.jsx("div",{className:"w-full  mx-auto h-auto ",children:n.map((o,l)=>{const c=o.trim();return c.startsWith("**")&&c.endsWith("**")?e.jsx(O.Fragment,{children:e.jsx("h2",{className:"text-green-500 text-xl mb-3 md:mb-5 md:text-2xl font-bold",children:c.slice(2,-2).trim()})},l):e.jsx(O.Fragment,{children:e.jsx("p",{className:`${l!==n.length-1?"mb-4":""} md:text-base text-sm`,children:c})},l)})})}function fe({customizeHotel:t,handleDropdownClick:n,toggleDropdown:o,openModal:l,handleHotelArray:c,selectedHotel:f,data:j,setCustomizeHotel:p,isDropdownOpen:A,handleApplyClick:w,handleHotelChangeInput:y}){var C;return e.jsx("div",{children:(C=j==null?void 0:j.hotels)==null?void 0:C.map(u=>e.jsxs("div",{children:[" ",e.jsx("h4",{className:"font-semibold mb-2 text-sm sm:text-base",children:u.location}),u==null?void 0:u.hotelDetails.map((a,d)=>{var D,x;return e.jsxs("div",{onClick:()=>c(u,a),className:`w-auto flex flex-col  transition-transform ease-in-out duration-300 sm:flex-row mb-4 items-center border-2 rounded-3xl 
    cursor-pointer p-2 space-y-2 sm:space-y-0 
    ${f.some(h=>h._id===a._id)?"border-med-green":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("img",{src:((D=a==null?void 0:a.hotelPhotoUrl)==null?void 0:D[0])||"",onClick:()=>(a==null?void 0:a.hotelPhotoUrl)&&l(a.hotelPhotoUrl),alt:"Hotel",className:"w-[30%] h-[30%] rounded-3xl sm:mr-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm sm:text-base",children:a.hotelName}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("button",{className:"bg-green-400 text-white px-2 py-1 rounded text-xs sm:text-sm",onClick:h=>{o(a._id),n(h)},children:"Rooms, Adults, Children"}),A===a._id&&e.jsxs("div",{onClick:n,className:"absolute mt-[75%] sm:mt-[45%] md:mt-[34%] lg:mt-[25%] bg-white  shadow-lg rounded-lg p-4 w-56 z-10",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700",children:"Rooms"}),e.jsx("input",{id:"rooms",name:"rooms",value:t.rooms,onChange:y,type:"number",className:"mt-1 block w-full border-[1.5px] text-center border-green-500 rounded-md shadow-sm focus:ring-green-400 focus:border-green-400 sm:text-sm",placeholder:"Enter number of rooms"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"adults",className:"block text-sm font-medium text-gray-700",children:"Adults"}),e.jsx("input",{id:"adults",name:"adults",value:t.adults,onChange:y,type:"number",className:"mt-1 block w-full border-[1.5px] text-center border-green-500  rounded-md shadow-sm focus:ring-green-400 focus:border-green-400 sm:text-sm",placeholder:"Enter number of adults"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"children",className:"block text-sm font-medium text-gray-700",children:"Children"}),e.jsx("input",{id:"children",name:"children",value:t.children,onChange:y,type:"number",className:"mt-1 text-center block w-full border-[1.4px] border-green-500  rounded-md shadow-sm focus:ring-green-400 focus:border-green-400 sm:text-sm",placeholder:"Enter number of children"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"extraBed",className:"block text-sm font-medium text-gray-700",children:"Extra Bed"}),e.jsx("input",{id:"extraBed",name:"extraBed",type:"checkbox",checked:t.extraBed,onChange:()=>p(h=>({...h,extraBed:!h.extraBed})),className:"mt-1 text-center block w-full border-[1.4px] border-green-500 rounded-md shadow-sm focus:ring-green-400 focus:border-green-400 sm:text-sm"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"childrenAgeUnder5",className:"block text-sm font-medium text-gray-700",children:"Children Age Under 5"}),e.jsx("input",{id:"childrenAgeUnder5",name:"childrenAgeUnder5",type:"checkbox",checked:t.childrenAgeUnder5,onChange:()=>p(h=>({...h,childrenAgeUnder5:!h.childrenAgeUnder5})),className:"mt-1 text-center block w-full border-[1.4px] border-green-500 rounded-md shadow-sm focus:ring-green-400 focus:border-green-400 sm:text-sm"})]}),e.jsx("button",{onClick:()=>{w(a)},className:"bg-med-green text-[.8rem] text-white w-full mt-2 py-2 rounded",children:"Apply"})]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:"Delux"}),e.jsx("div",{className:"flex gap-1 mt-1",children:[...Array(5)].map((h,k)=>k<Math.floor(a.hotelRating)?e.jsx(ce,{className:"text-yellow-400"},k):k<a.hotelRating?e.jsx(ie,{className:"text-yellow-400"},k):e.jsx(de,{className:"text-gray-300"},k))}),e.jsxs("p",{className:" mt-1 ",children:["Total Price:"," ",e.jsxs("span",{className:"font-medium text-green-700",children:["Rs"," ",f.some(h=>h._id===a._id)?(x=f.find(h=>h._id===a._id))==null?void 0:x.hotelPrice:a.hotelPrice,"+"]})]})]})]},a._id||d)})]},u._id||hotelIndex))})}function be({images:t,handleCloseModal:n}){const o=b.useRef(null),[l,c]=b.useState(0),f=()=>{c(p=>(p+1)%t.length)},j=()=>{c(p=>(p-1+t.length)%t.length)};return e.jsx("div",{onClick:p=>{o.current&&o.current.contains(p.target)||n()},className:"fixed z-20 top-0 left-0 w-full h-full flex justify-center items-center backdrop-blur-sm cursor-pointer",children:e.jsxs("div",{ref:o,className:"relative cursor-default max-w-full max-h-full flex justify-center items-center",children:[e.jsx("div",{style:{width:"600px",height:"450px"},children:e.jsx("img",{src:t[l],alt:`Slide ${l+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("button",{onClick:p=>{p.stopPropagation(),j()},className:"absolute left-4 text-xl top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white px-6 py-3 rounded-full focus:outline-none hover:bg-opacity-70 shadow-lg",children:"â€¹"}),e.jsx("button",{onClick:p=>{p.stopPropagation(),f()},className:"absolute right-4 text-xl top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white px-6 py-3 rounded-full focus:outline-none hover:bg-opacity-70 shadow-lg",children:"â€º"})]})})}function je({data:t}){var _;const{id:n}=U(),{searchData:o}=R(),{userDetails:l}=re(),[c,f]=b.useState("Plan Details"),[j,p]=b.useState(!1),[A,w]=b.useState("fadeIn"),[y,C]=b.useState({isOpen:!1,img:[]}),[u,a]=b.useState([]),[d,D]=b.useState({rooms:1,adults:1,children:0,extraBed:!1,childrenAgeUnder5:!1}),[x,h]=b.useState({id:"",discountPercentage:0,maxDiscount:0}),[k,z]=b.useState({selectedHotels:[],Pack_id:n,guests:o.guests,coupon:"",BookingAmount:""}),H=s=>{u.length>0&&p(r=>r===s?null:s)},I=s=>{h(r=>r.id===s.id?{id:"",discountPercentage:0,maxDiscount:0}:{id:s._id,discountPercentage:Number(s.discountPercentage),maxDiscount:Number(s.maxDiscount)})},L=(s,r)=>{const i=u.some(g=>g._id===r._id),m=u.some(g=>g.location===s.location);i?a(g=>g.filter(N=>N._id!==r._id)):m?alert("You can only select one hotel per location!"):a(g=>[...g,{...r,room:d.rooms,adults:d.adults,children:d.children,extraBed:d.extraBed,childrenAgeUnder5:d.childrenAgeUnder5,location:s.location,hotelPrice:r.hotelPrice*d.rooms}])},W=s=>{s.stopPropagation();const{name:r,value:i}=s.target;D(m=>({...m,[r]:Math.max(r==="children"?0:1,i)}))},Y=(s,r,i,m,g,N)=>{a(F=>F.map(v=>v._id===s._id?{...v,room:r,adults:i,children:m,extraBed:g,childrenAgeUnder5:N,hotelPrice:(()=>{let S=s.hotelPrice*r;return i>1&&(S+=(i-1)*s.hotelPrice*.85*r),m>0&&(m>0&&!d.childrenAgeUnder5&&!d.extraBed?S+=m*s.hotelPrice*.5:m>0&&!d.childrenAgeUnder5&&d.extraBed?S+=m*s.hotelPrice*.75:console.log("Children under 5 are complimentary.")),S})()}:v))},G=s=>{Y(s,d.rooms,d.adults,d.children,d.extraBed,d.childrenAgeUnder5),p(null)},Z=s=>{w("fadeOut"),setTimeout(()=>{f(s),w("fadeIn")},100)},E=()=>{const s=u.reduce((g,N)=>g+(N.hotelPrice||0),0),i=(t==null?void 0:t.price)*o.guests+s;if(!x.id)return i;const m=Math.min(i*x.discountPercentage/100,x.maxDiscount);return i-m},q=s=>{C(r=>({...r,isOpen:!0,img:s}))},J=()=>{C(s=>({...s,isOpen:!1,img:[]}))},K=s=>{s.stopPropagation()},V=s=>new Promise(r=>{if(document.querySelector(`script[src="${s}"]`)){r(!0);return}const i=document.createElement("script");i.src=s,i.onload=()=>{r(!0)},i.onerror=()=>{r(!1)},document.body.appendChild(i)}),Q=async s=>{s.preventDefault();try{const r={selectedHotels:[...u],Pack_id:n,guests:o.guests,coupon:x};console.log("this is requestdata",r);const i=await $.post("https://trippo-bazzar-backend.vercel.app/api/package/verifyAmount",r);console.log(i.data);const{totalPrice:m}=i.data,{order:g}=i.data;if(console.log("Verified Total Price:",m),z(v=>({...v,selectedHotels:[...v.selectedHotels,...u],guests:o.guests,coupon:x,BookingAmount:m})),!await V("https://checkout.razorpay.com/v1/checkout.js")){console.error("Failed to load Razorpay script");return}new window.Razorpay({key:void 0,amount:m*100,order_id:g.id,handler:async v=>{const{razorpay_order_id:S,razorpay_payment_id:X,razorpay_signature:ee}=v,se={order_id:S,payment_id:X,signature:ee};try{const P=await $.post("https://trippo-bazzar-backend.vercel.app/api/package/verifyPayment",se);P.status===200&&console.log("Payment verified successfully",P.data.message)}catch(P){P.response?console.error("Payment verification failed:",P.response.data.message):console.error("An error occurred during payment verification",P.message)}},theme:{color:"#F37254"}}).open()}catch(r){console.error("Error verifying amount:",r.message),r.response?console.error("Server Error:",r.response.data.message):console.error("Unexpected Error:",r.message)}};return b.useEffect(()=>{},[d]),e.jsxs("div",{className:"w-full md:w-[90%] mx-auto bg-white flex flex-col lg:flex-row font-poppins",children:[e.jsxs("div",{className:"w-full lg:w-4/5 p-4 ",children:[e.jsx("nav",{className:"flex w-full gap-4 em:gap-10 border-[.5px] px-4 em:px-0 scrollbar-hide overflow-x-auto rounded-lg justify-start em:justify-center py-4 whitespace-nowrap  mb-4 text-center text-sm sm:text-base",children:["Plan Details","Hotel","SightSeeing","Policies"].map((s,r)=>e.jsx("li",{className:`cursor-pointer  list-none  ${c===s?"text-green-500 font-semibold":""}`,onClick:()=>Z(s),children:s},r))}),e.jsxs("div",{className:A==="fadeIn"?"animate-fadeIn":"animate-fadeOut",children:[c==="Plan Details"&&e.jsx("div",{className:"space-y-6   ",children:(_=t==null?void 0:t.dayDescription)==null?void 0:_.map((s,r)=>{var i,m;return e.jsxs("div",{className:"border-[.5px] px-4 py-4 rounded-lg",children:[e.jsx("h3",{className:"text-base md:text-lg leading-6 md:leading-3 font-bold",children:s.dayTitle}),e.jsx("div",{className:"border-t mt-3 mb-4"}),e.jsx("div",{children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-6 mb-4 gap-2",children:(i=s==null?void 0:s.photos)==null?void 0:i.map((g,N)=>e.jsx("img",{src:"/src/assets/oneContinent.png",alt:`Day ${r+1} img ${N+1}`,className:"rounded-md w-full"},`${g}-${N}`))})}),(m=s==null?void 0:s.dayDetails)==null?void 0:m.split(`
`).map((g,N)=>e.jsxs("span",{className:"sm:text-base text-sm ",children:[g,e.jsx("br",{})]},N))]},r)})}),c==="Hotel"&&e.jsx(fe,{customizeHotel:d,handleDropdownClick:K,toggleDropdown:H,openModal:q,handleHotelArray:L,selectedHotel:u,data:t,setCustomizeHotel:D,isDropdownOpen:j,handleApplyClick:G,handleHotelChangeInput:W}),c==="SightSeeing"&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[...Array(4)].map((s,r)=>e.jsx("img",{src:"/src/assets/oneContinent.png",alt:`Hotel ${r+1}`,className:"rounded-md sm:mr-4"},r))}),c==="Policies"&&e.jsx(he,{data:t==null?void 0:t.policies})]})]}),e.jsxs("div",{className:"w-full  lg:w-1/3  p-4 space-y-4",children:[e.jsxs("div",{className:"border p-6 rounded-3xl relative text-sm sm:text-base",children:[e.jsxs("p",{className:`absolute top-0 right-0 ${x.id?"opacity-100":"opacity-0"} bg-green-500 text-white px-4 py-3 rounded-bl-lg rounded-tr-lg`,children:[l==null?void 0:l.Coupons.map(s=>s._id===x.id?s.discountPercentage:""),"% OFF"]}),e.jsx("p",{className:"font-semibold text-lg mt-7",children:"Payment Details"}),e.jsx("p",{className:"line-through text-gray-400",children:t!=null&&t.price?t.price*o.guests*1.25:"N/A"}),e.jsx("p",{className:"text-med-green font-semibold",children:t!=null&&t.price?o.guests===1?`â‚¹ ${E()} /- per person`:`â‚¹ ${E()} /- total pack price`:"N/A"}),e.jsxs("p",{className:"border rounded-xl mb-3 text-blue-500 flex justify-center items-center gap-4 py-1 text-[.7rem] mt-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸŽ‰"})," No Additional or Hidden Costs!!!"]}),e.jsx("div",{className:"border-b mb-3 border-[#A4B6B9] w-full"}),e.jsxs("p",{className:"mb-3 cursor-pointer font-semibold gap-2 flex items-start justify-between",children:["Total Payable: â‚¹ ",E(),e.jsx("span",{className:"mt-[3px] text-lg",children:e.jsx(le,{})})]}),e.jsx("button",{onClick:Q,className:"bg-med-green text-lg text-white w-full  py-4 rounded-xl",children:"Confirm and Book"})]}),e.jsxs("div",{className:"bg-[#EDF7F9] rounded-3xl border-[.5px] w-full p-6 ",children:[e.jsxs("div",{className:"flex flex-col border-gray-400 rounded-xl border-[.6px] px-4 py-3 sm:flex-row items-center gap-0 sm:gap-2 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Have a Coupon?",className:"flex-1 w-full text-base bg-transparent rounded text-center sm:text-left"}),e.jsx("button",{className:`text-green-500 ${x.id?"text-opacity-65":"text-opacity-100"} px-0 text-base py-1 rounded`,disabled:x,children:x.id?"Applied":"Apply"})]}),e.jsx("p",{className:"text-center text-gray-500",children:"OR"}),e.jsxs("div",{children:[l!=null&&l.Coupons?l.Coupons.map(s=>e.jsxs("div",{onClick:()=>I(s),className:`flex items-start cursor-pointer gap-3 bg-white mt-4 
                      ${x.id===s._id?"border-med-green":"border-white"} 
                      ${x.id!==null&&x.id!==s._id?"hover:border-[#e5e7eb]":"hover:border-med-green"} 
                      border-[3px] p-2 rounded-xl`,children:[e.jsx(ge,{}),e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"font-bold text-sm",children:s.couponCode}),e.jsx("p",{className:"text-xs mb-3 text-gray-500",children:s.couponDescription}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-green-500  text-sm  rounded ",children:x.id===s._id?"Applied!":"Apply"}),x.id===s._id&&e.jsx("button",{className:"text-red-500  text-sm  rounded",onClick:r=>{r.stopPropagation(),I(s._id)},children:"Remove"})]})]})]},s._id)):e.jsx("p",{children:"No Coupons Available"}),e.jsx("div",{className:"flex gap-2 mt-4"})]})]})]}),y.isOpen&&e.jsx(be,{images:y.img,handleCloseModal:J})]})}function Ne({data:t}){const n=t.split(`
`);return!t||n.length===0||n.every(o=>o.trim()==="")?e.jsx("div",{className:"w-full md:w-[90%] mx-auto h-auto px-2 py-4",children:e.jsx("p",{className:"text-gray-500",children:"No Terms and Condition Stated."})}):e.jsx("div",{className:"w-full md:w-[90%] mx-auto h-auto p-4",children:n.map((o,l)=>{const c=o.trim();return c.startsWith("**")&&c.endsWith("**")?e.jsxs("h2",{className:"text-green-500 text-xl md:text-2xl font-bold",children:[c.slice(2,-2).trim()," "]},l):e.jsx("p",{className:`${l!==n.length-1?"mb-4":""} md:text-base text-sm`,children:c},l)})})}const ye=["ITINERARY DETAILS","TERMS & CONDITIONS"];function Se(){const[t,n]=b.useState("ITINERARY DETAILS"),{id:o}=U(),{data:l,loading:c}=xe(`https://trippo-bazzar-backend.vercel.app/api/package/${o}`);return c?e.jsx(ne,{}):e.jsxs("div",{className:"max-w-[1920px] font-poppins  mx-auto bg-white",children:[e.jsx("div",{className:"w-[90%] relative z-10 mx-auto py-2 overflow-x-auto whitespace-nowrap scrollbar-hide",children:e.jsx(me,{})}),e.jsx(pe,{data:l}),e.jsx(ue,{data:l}),e.jsx("nav",{className:"bg-white  mb-2 sticky z-10 top-[80px]",children:e.jsx("div",{className:"max-w-7xl mx-auto px-0 em:px-4 py-4",children:e.jsx("ul",{className:"flex  flex-row justify-center overflow-x-scroll items-center scrollbar-hide px-4 sm:justify-center text-[.7rem] em:text-sm uppercase leading-6 font-normal  gap-8",children:ye.map((f,j)=>e.jsx("button",{className:`text-gray-500 em:py-0 py-2 whitespace-nowrap hover:text-med-green ${t===f?"text-med-green border-b-2 border-med-green":"text-gray-500"}`,onClick:()=>n(f),children:f},j))})})}),t==="ITINERARY DETAILS"&&e.jsx(je,{data:l}),t==="TERMS & CONDITIONS"&&e.jsx(Ne,{data:l==null?void 0:l.termsAndConditions}),e.jsx(ae,{})]})}export{Se as default};
